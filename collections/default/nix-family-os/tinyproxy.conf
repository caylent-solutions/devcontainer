# Tinyproxy configuration forwarding to SurePath AI proxy
# Forwards all requests to edge.surepath.ai:8080

User ${USER}
Group ${GROUP}

Port 3128
Bind 0.0.0.0

Timeout 600
MaxClients 100

LogFile "${HOME}/.devcontainer-proxy/tinyproxy.log"
LogLevel Info

PidFile "${HOME}/.devcontainer-proxy/tinyproxy.pid"

# Allow Docker networks
Allow 127.0.0.1
Allow 192.168.0.0/16
Allow 172.16.0.0/12
Allow 10.0.0.0/8

# Forward ALL traffic to host proxy
# Syntax: upstream type host:port "site_pattern"
# "." matches all sites

# Example
# Upstream http edge.surepath.ai:8080 "."
Upstream http edge.surepath.ai:8080 "."

# Allow CONNECT for HTTPS tunneling
ConnectPort 443
ConnectPort 8443

DisableViaHeader Yes
